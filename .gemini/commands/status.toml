description = "Show project status including git, dependencies, and environment"

prompt = """
# Status

Show comprehensive project status.

## Git Status
- Branch: !{git branch --show-current}
- Status: !{git status --short | head -10}
- Latest commit: !{git log -1 --oneline}
- Latest tag: !{git describe --tags --abbrev=0 2>/dev/null || echo "No tags"}

## Backend Status
- Python version: !{cd backend && source venv/bin/activate 2>/dev/null && python --version 2>&1 || echo "venv not found"}
- Venv exists: !{test -d backend/venv && echo "Yes" || echo "No"}
- Ruff version: !{cd backend && source venv/bin/activate 2>/dev/null && ruff --version 2>&1 || echo "Not installed"}
- ty version: !{cd backend && source venv/bin/activate 2>/dev/null && ty --version 2>&1 || echo "Not installed"}

## Frontend Status
- Node version: !{node --version 2>&1 || echo "Not installed"}
- npm version: !{npm --version 2>&1 || echo "Not installed"}
- node_modules exists: !{test -d frontend/node_modules && echo "Yes" || echo "No"}
- Build exists: !{test -d frontend/dist && echo "Yes" || echo "No"}

## Docker Status
- Docker available: !{docker --version 2>&1 | head -1 || echo "Not installed"}
- ccbell image exists: !{docker images ccbell-sound-generator --format "{{.Tag}}" | head -1 || echo "No"}

## Instructions

Based on the status above:

1. **If venv doesn't exist**: Run /setup
2. **If node_modules missing**: Run `cd frontend && npm install`
3. **If build missing**: Run /build
4. **To run locally**: Run /dev
5. **To verify before release**: Run /verify

## Quick Health Check

To verify the project is ready for development:
```bash
# Backend health
cd backend && source venv/bin/activate && python -c "import fastapi; print('FastAPI OK')"

# Frontend health
cd frontend && npm run build --dry-run 2>/dev/null && echo "Frontend OK" || npm install
```
"""
